
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Networking - Use Case &mdash; qi SDK Documentation 2.2.0.55 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.2.0.55',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="qi SDK Documentation 2.2.0.55 documentation" href="../index.html" />
    <link rel="up" title="Design Documents" href="index.html" />
    <link rel="next" title="Network Binary Protocol" href="network-binary-protocol.html" />
    <link rel="prev" title="Design Documents" href="index.html" />
 
<script>
$(window).ready(function () {
    var width_label = 0;
    $('dl.function-index dt > span').each(function () {
        $(this).css('width', 'auto');
        width_label = Math.max(width_label, $(this).width());
    }).width(width_label + 30);
    $('.sig-paren').width('auto');
})

</script>


<script type="text/javascript" src="/static/js/ga-status.js"></script>



  </head>
  <body>

    <div class="document">
  <div id="custom-doc" class="yui-t3">
    <div id="hd">
      <h1><a href="../index.html">qi SDK Documentation 2.2.0.55 documentation</a></h1>
      <div id="global-nav">
        <a title="Home page" href="../index.html">Home</a>
         |
        <a title="Site map" href="../contents.html">Site map</a>
         |
        <a title="Search" href="../search.html">Search</a>
         |
        <a title="Index" href="../genindex.html">Index</a>
      </div>
      <div class="nav">
    &laquo; <a href="index.html" title="Design Documents">previous</a>
     |
    <a href="index.html" title="Design Documents" accesskey="U">up</a>
   |
    <a href="network-binary-protocol.html" title="Network Binary Protocol">next</a> &raquo;</div>
    </div>

    <div id="bd">
      <div id="yui-main">
        <div class="yui-b">
          <div class="yui-g" id="design-network-usecase">
            
  <div class="section" id="networking-use-case">
<span id="network-usecase"></span><h1>Networking - Use Case<a class="headerlink" href="#networking-use-case" title="Permalink to this headline">¶</a></h1>
<div class="section" id="glossary">
<h2>Glossary<a class="headerlink" href="#glossary" title="Permalink to this headline">¶</a></h2>
<p><strong>Internal networking</strong>:</p>
<blockquote>
<div>communication between applications and services available on the same robot.
This is also called &#8220;direct connection protocol&#8221; in this document.</div></blockquote>
<p><strong>Remote networking</strong>:</p>
<blockquote>
<div>communication between remote applications and a device.
This is also called &#8220;Remote connection protocol&#8221; in this document.</div></blockquote>
</div>
<div class="section" id="use-case">
<h2>Use Case<a class="headerlink" href="#use-case" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first"><strong>Single Computer Robot</strong></p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">add cloud connection on the first two schema</p>
</div>
<img alt="../_images/NAOqi2.0-singleboardrobot.png" src="../_images/NAOqi2.0-singleboardrobot.png" />
<p>Robot have a single computer with only an external address. All services use internal networking to communicate. External clients use gateways.</p>
</li>
<li><p class="first"><strong>Multiple Computer Robot</strong></p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">add cloud connection on the first two schema</p>
</div>
<img alt="../_images/distributed-naoqi.png" src="../_images/distributed-naoqi.png" />
<p>Robot can have multiple computer with differents IP addresses that communicate together to from a single robot.
In that case it&#8217;s particularly important to differenciate between internal and external busses.
They do not need the same security level and do not have the same constraint. We want the internal network to never change, to be a DMZ.
We want the external network to be very controlled, external network can have address that change according to the desire of the client. (for example from one hotspot to another).</p>
<p>To easily support Choregraphe and external PC tools, only one public address have to be used to connect to the robot. So we need to have a public gateway, that forward request from/to services.
The public gateway (the program that forward the data), need to run on the computer that have both internal and external address.</p>
</li>
<li><p class="first"><strong>Remote Device / Cloud</strong></p>
<img alt="../_images/NAOqi2.0-remotedevice.png" src="../_images/NAOqi2.0-remotedevice.png" />
<p>We want to connect multiple devices together.</p>
</li>
</ul>
</div>
<div class="section" id="specific-network-issues">
<h2>Specific network issues<a class="headerlink" href="#specific-network-issues" title="Permalink to this headline">¶</a></h2>
<p>This is only applicable for external connection. There is no restriction on internal networking that can be considered like a DMZ.</p>
<p><strong>NAT and Proxy support for local network</strong></p>
<img alt="../_images/NAOqi2.0-NATissues.png" src="../_images/NAOqi2.0-NATissues.png" />
<p>The solution is to use a gateway with a single address and port.</p>
<p><strong>direct connection by internet</strong></p>
<p>To send audio/video between two device using internet, we can use a third party server where each device connect to. But we can try to use a more
efficient connection mean by using STUN and similar techniques.</p>
<img alt="../_images/NAOqi2.0-clouddirectconnection.png" src="../_images/NAOqi2.0-clouddirectconnection.png" />
<p>see also <a class="reference external" href="http://en.wikipedia.org/wiki/STUN">http://en.wikipedia.org/wiki/STUN</a> and <a class="reference external" href="http://en.wikipedia.org/wiki/NAT_traversal">http://en.wikipedia.org/wiki/NAT_traversal</a></p>
</div>
</div>


          </div>
          <div class="footernav">
    &laquo; <a href="index.html" title="Design Documents">Design Documents</a>
     |
    <a href="index.html" title="Design Documents" accesskey="U">Design Documents</a>
   |
    <a href="network-binary-protocol.html" title="Network Binary Protocol">Network Binary Protocol</a> &raquo;</div>
        </div>
      </div>
      
        
          <div class="yui-b" id="sidebar">
            
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>


  <h3>Table Of Contents</h3>
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">API References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guide/index.html">User Guides</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Design Documents</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="">Networking - Use Case</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="network-binary-protocol.html">Network Binary Protocol</a></li>
<li class="toctree-l2"><a class="reference internal" href="codingstyle.html">Coding Convention</a></li>
</ul>
</li>
</ul>

    <h3><a href="../index.html">On this page</a></h3>
    <ul>
<li><a class="reference internal" href="#">Networking - Use Case</a><ul>
<li><a class="reference internal" href="#glossary">Glossary</a></li>
<li><a class="reference internal" href="#use-case">Use Case</a></li>
<li><a class="reference internal" href="#specific-network-issues">Specific network issues</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
          </div>
        
      
    </div>

    <div id="ft">
      <div class="nav">
    &laquo; <a href="index.html" title="Design Documents">previous</a>
     |
    <a href="index.html" title="Design Documents" accesskey="U">up</a>
   |
    <a href="network-binary-protocol.html" title="Network Binary Protocol">next</a> &raquo;</div>
    </div>
  </div>

      <div class="clearer"></div>
    </div>
  </body>
</html>