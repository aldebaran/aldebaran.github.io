
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>How to receive and send logs &mdash; qi SDK Documentation 2.2.0.55 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.2.0.55',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="qi SDK Documentation 2.2.0.55 documentation" href="../index.html" />
 
<script>
$(window).ready(function () {
    var width_label = 0;
    $('dl.function-index dt > span').each(function () {
        $(this).css('width', 'auto');
        width_label = Math.max(width_label, $(this).width());
    }).width(width_label + 30);
    $('.sig-paren').width('auto');
})

</script>


<script type="text/javascript" src="/static/js/ga-status.js"></script>



  </head>
  <body>

    <div class="document">
  <div id="custom-doc" class="yui-t3">
    <div id="hd">
      <h1><a href="../index.html">qi SDK Documentation 2.2.0.55 documentation</a></h1>
      <div id="global-nav">
        <a title="Home page" href="../index.html">Home</a>
         |
        <a title="Site map" href="../contents.html">Site map</a>
         |
        <a title="Search" href="../search.html">Search</a>
         |
        <a title="Index" href="../genindex.html">Index</a>
      </div>
      <div class="nav">
    <a title="qi SDK Documentation 2.2.0.55 documentation" href="../index.html" accesskey="U">up</a></div>
    </div>

    <div id="bd">
      <div id="yui-main">
        <div class="yui-b">
          <div class="yui-g" id="guide-cxx-log-client">
            
  <div class="section" id="how-to-receive-and-send-logs">
<span id="guide-cxx-log-client"></span><h1>How to receive and send logs<a class="headerlink" href="#how-to-receive-and-send-logs" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>This guide will teach you how to subscribe to LogManager qimessaging services,
configure your listener, receive logs from NAOqi and send logs to it.</p>
<p>NAOqi has a unique logs system service named LogManager. You can:</p>
<ul class="simple">
<li>use a listener to <em class="xref std std-ref">&lt;cxx-log-listener&gt;</em>,</li>
<li><em class="xref std std-ref">&lt;cxx-log-publisher&gt;</em> to dispatch logs to all clients listeners subscribed to LogManager.</li>
</ul>
</div>
<div class="section" id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>An installed NAOqi SDK for your operating system.</li>
<li>A C++ project setup in your favorite C++ development environment, ready
to use the headers and libraries provided by the NAOqi SDK.</li>
<li>Read guilde <a class="reference internal" href="cxx-client.html#guide-cxx-client"><em>C++: Writing a client</em></a></li>
</ul>
</div>
<div class="section" id="subscribe-to-logmanager-to-obtain-logs">
<span id="cxx-log-listener"></span><h2>Subscribe to LogManager to obtain logs<a class="headerlink" href="#subscribe-to-logmanager-to-obtain-logs" title="Permalink to this headline">¶</a></h2>
<p>The first step is to get a LogManager service using a <a class="reference internal" href="../api/python/session.html#qi.Session" title="qi.Session"><tt class="xref py py-class docutils literal"><span class="pre">qi.Session</span></tt></a></p>
<div class="highlight-cpp"><div class="highlight"><pre><span class="cp">#include &lt;iostream&gt;</span>

<span class="cp">#include &lt;qi/applicationsession.hpp&gt;</span>

<span class="cp">#include &lt;qicore/logmessage.hpp&gt;</span>
<span class="cp">#include &lt;qicore/logmanager.hpp&gt;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">**</span> <span class="n">argv</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">qi</span><span class="o">::</span><span class="n">ApplicationSession</span> <span class="n">app</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span> <span class="n">argv</span><span class="p">);</span>
  <span class="n">app</span><span class="p">.</span><span class="n">start</span><span class="p">();</span>
  <span class="n">qi</span><span class="o">::</span><span class="n">LogManagerPtr</span> <span class="n">logger</span> <span class="o">=</span> <span class="n">app</span><span class="p">.</span><span class="n">session</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">service</span><span class="p">(</span><span class="s">&quot;LogManager&quot;</span><span class="p">);</span>

  <span class="n">app</span><span class="p">.</span><span class="n">run</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Once you have your LogManager service, you need to get a Listener and connect
the onLogMessage signal to your own callback.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">You must never use qiLog or call a methods that use qiLog inside your callback. Otherwise you will have an infinite loop.</p>
</div>
<p>You can change some settings of your local Listener
(verbosity level, filters <a class="reference internal" href="#cxx-log-listener-conf"><em>see below</em></a>).</p>
<div class="highlight-cpp"><div class="highlight"><pre><span class="cp">#include &lt;iostream&gt;</span>

<span class="cp">#include &lt;qi/applicationsession.hpp&gt;</span>

<span class="cp">#include &lt;qicore/logmessage.hpp&gt;</span>
<span class="cp">#include &lt;qicore/logmanager.hpp&gt;</span>
<span class="cp">#include &lt;qicore/loglistener.hpp&gt;</span>

<span class="c1">// More information on logmessage document into LogManager API</span>
<span class="kt">void</span> <span class="nf">onMessage</span><span class="p">(</span><span class="k">const</span> <span class="n">qi</span><span class="o">::</span><span class="n">LogMessage</span><span class="o">&amp;</span> <span class="n">msg</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">std</span><span class="o">::</span><span class="n">stringstream</span> <span class="n">ss</span><span class="p">;</span>
  <span class="n">ss</span> <span class="o">&lt;&lt;</span> <span class="n">msg</span><span class="p">.</span><span class="n">category</span>
     <span class="o">&lt;&lt;</span> <span class="s">&quot; &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">msg</span><span class="p">.</span><span class="n">source</span>
     <span class="o">&lt;&lt;</span> <span class="s">&quot; &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">msg</span><span class="p">.</span><span class="n">message</span><span class="p">;</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">ss</span><span class="p">.</span><span class="n">str</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">**</span> <span class="n">argv</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">qi</span><span class="o">::</span><span class="n">ApplicationSession</span> <span class="n">app</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span> <span class="n">argv</span><span class="p">);</span>
  <span class="n">app</span><span class="p">.</span><span class="n">start</span><span class="p">();</span>

  <span class="n">qi</span><span class="o">::</span><span class="n">LogManagerPtr</span> <span class="n">logger</span> <span class="o">=</span> <span class="n">app</span><span class="p">.</span><span class="n">session</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">service</span><span class="p">(</span><span class="s">&quot;LogManager&quot;</span><span class="p">);</span>
  <span class="n">qi</span><span class="o">::</span><span class="n">LogListenerPtr</span> <span class="n">listener</span> <span class="o">=</span> <span class="n">logger</span><span class="o">-&gt;</span><span class="n">getListener</span><span class="p">();</span>
  <span class="n">listener</span><span class="o">-&gt;</span><span class="n">onLogMessage</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="o">&amp;</span><span class="n">onMessage</span><span class="p">);</span>

  <span class="n">app</span><span class="p">.</span><span class="n">run</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<p id="cxx-log-listener-conf">Once you have your listener you can change some verbosity settings:</p>
<ul class="simple">
<li>clearFilters() will reset/initialize to default all changes made to the listener,</li>
<li>addFilter(category, level) changes the verbosity for the specific category,</li>
<li>setLevel(level) changes the verbosity for all categories (setLevel(level) == addFilter(&#8220;*&#8221;, level))</li>
</ul>
<div class="highlight-cpp"><div class="highlight"><pre><span class="n">qi</span><span class="o">::</span><span class="n">LogListenerPtr</span> <span class="n">listener</span> <span class="o">=</span> <span class="n">logger</span><span class="o">-&gt;</span><span class="n">getListener</span><span class="p">();</span>

<span class="c1">// init listener</span>
<span class="n">listener</span><span class="o">-&gt;</span><span class="n">clearFilters</span><span class="p">();</span>

<span class="c1">// All logs with severity lower or equal to DEBUG will be received</span>
<span class="n">listener</span><span class="o">-&gt;</span><span class="n">setLevel</span><span class="p">(</span><span class="n">qi</span><span class="o">::</span><span class="n">LogLevel_Debug</span><span class="p">)</span>

<span class="c1">// reveive logs with &#39;foo.bar&#39; category and severity lower or equal than SILENT</span>
<span class="c1">// ei: &quot;foo.bar&quot; logs are never received.</span>
<span class="n">listener</span><span class="o">-&gt;</span><span class="n">addFilter</span><span class="p">(</span><span class="s">&quot;foo.bar&quot;</span><span class="p">,</span> <span class="n">qi</span><span class="o">::</span><span class="n">LogLevel_Silent</span><span class="p">)</span>

<span class="c1">// reveive logs with &#39;foo.baz.*&#39; category and severity lower or equal than ERROR</span>
<span class="c1">// globbing works fine</span>
<span class="n">listener</span><span class="o">-&gt;</span><span class="n">addFilter</span><span class="p">(</span><span class="s">&quot;foo.baz.*&quot;</span><span class="p">,</span> <span class="n">qi</span><span class="o">::</span><span class="n">LogLevel_Error</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="add-a-publisher-to-send-logs">
<span id="cxx-log-publisher"></span><h2>Add a publisher to send logs<a class="headerlink" href="#add-a-publisher-to-send-logs" title="Permalink to this headline">¶</a></h2>
<p>A log publisher is an entity you register to LogManager that sends logs to it.
Then the LogManager will dispatch logs coming from all publishers to all
listeners having subscribed to it.</p>
<p>Be careful, it&#8217;s recommended to have one publisher per process. Otherwise you
will send the same log as many times as you have publishers in your process.</p>
<div class="section" id="send-logs-to-already-started-naoqi">
<h3>Send logs to already started NAOqi<a class="headerlink" href="#send-logs-to-already-started-naoqi" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp"><div class="highlight"><pre><span class="cp">#include &lt;iostream&gt;</span>

<span class="cp">#include &lt;qi/log.hpp&gt;</span>
<span class="cp">#include &lt;qi/os.hpp&gt;</span>

<span class="cp">#include &lt;qi/applicationsession.hpp&gt;</span>

<span class="cp">#include &lt;qicore/logmessage.hpp&gt;</span>
<span class="cp">#include &lt;qicore/logmanager.hpp&gt;</span>
<span class="cp">#include &lt;qicore/logprovider.hpp&gt;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">**</span> <span class="n">argv</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">qi</span><span class="o">::</span><span class="n">ApplicationSession</span> <span class="n">app</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span> <span class="n">argv</span><span class="p">);</span>
  <span class="n">app</span><span class="p">.</span><span class="n">start</span><span class="p">();</span>

  <span class="c1">// Get LogManager service</span>
  <span class="n">qi</span><span class="o">::</span><span class="n">LogManagerPtr</span> <span class="n">logger</span> <span class="o">=</span> <span class="n">app</span><span class="p">.</span><span class="n">session</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">service</span><span class="p">(</span><span class="s">&quot;LogManager&quot;</span><span class="p">);</span>

  <span class="c1">// Create LogProvider</span>
  <span class="n">qi</span><span class="o">::</span><span class="n">LogProviderPtr</span> <span class="n">provider</span> <span class="o">=</span> <span class="n">qi</span><span class="o">::</span><span class="n">makeLogProvider</span><span class="p">(</span><span class="n">logger</span><span class="p">);</span>

  <span class="c1">// Register LogProvider to LogManager</span>
  <span class="kt">int</span> <span class="n">id</span> <span class="o">=</span> <span class="n">logger</span><span class="o">-&gt;</span><span class="n">addProvider</span><span class="p">(</span><span class="n">provider</span><span class="p">);</span>

  <span class="c1">// Logs!!!</span>
  <span class="n">qiLogFatal</span><span class="p">(</span><span class="s">&quot;myfoo.bar&quot;</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;my fatal log&quot;</span><span class="p">;</span>
  <span class="n">qiLogError</span><span class="p">(</span><span class="s">&quot;myfoo.bar&quot;</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;my error log&quot;</span><span class="p">;</span>
  <span class="n">qiLogWarning</span><span class="p">(</span><span class="s">&quot;myfoo.bar&quot;</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;my warning log&quot;</span><span class="p">;</span>
  <span class="n">qiLogInfo</span><span class="p">(</span><span class="s">&quot;myfoo.bar&quot;</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;my info log&quot;</span><span class="p">;</span>
  <span class="n">qiLogVerbose</span><span class="p">(</span><span class="s">&quot;myfoo.bar&quot;</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;my verbose log&quot;</span><span class="p">;</span>
  <span class="n">qiLogDebug</span><span class="p">(</span><span class="s">&quot;myfoo.bar&quot;</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;my debug log&quot;</span><span class="p">;</span>

  <span class="c1">// Remove explicity provider from LogManager.</span>
  <span class="c1">// It will flush remaining logs</span>
  <span class="n">logger</span><span class="o">-&gt;</span><span class="n">removeProvider</span><span class="p">(</span><span class="n">id</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="section" id="send-logs-to-naoqi-before-naoqi-is-started">
<h3>Send logs to NAOqi before NAOqi is started<a class="headerlink" href="#send-logs-to-naoqi-before-naoqi-is-started" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="id1">
<h2>Example<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp"><div class="highlight"><pre><span class="cp">#include &lt;iostream&gt;</span>

<span class="cp">#include &lt;qi/log.hpp&gt;</span>
<span class="cp">#include &lt;qi/os.hpp&gt;</span>

<span class="cp">#include &lt;qi/applicationsession.hpp&gt;</span>

<span class="cp">#include &lt;qicore/logmessage.hpp&gt;</span>
<span class="cp">#include &lt;qicore/logmanager.hpp&gt;</span>
<span class="cp">#include &lt;qicore/logprovider.hpp&gt;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">**</span> <span class="n">argv</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">qi</span><span class="o">::</span><span class="n">ApplicationSession</span> <span class="n">app</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span> <span class="n">argv</span><span class="p">);</span>
  <span class="n">app</span><span class="p">.</span><span class="n">start</span><span class="p">();</span>


  <span class="c1">// Create LogProvider</span>
  <span class="n">qi</span><span class="o">::</span><span class="n">LogProviderPtr</span> <span class="n">provider</span> <span class="o">=</span> <span class="n">qi</span><span class="o">::</span><span class="n">makeLogProvider</span><span class="p">();</span>

  <span class="c1">// Logs!!!</span>
  <span class="n">qiLogFatal</span><span class="p">(</span><span class="s">&quot;myfoo.bar&quot;</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;my fatal log&quot;</span><span class="p">;</span>
  <span class="n">qiLogError</span><span class="p">(</span><span class="s">&quot;myfoo.bar&quot;</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;my error log&quot;</span><span class="p">;</span>
  <span class="n">qiLogWarning</span><span class="p">(</span><span class="s">&quot;myfoo.bar&quot;</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;my warning log&quot;</span><span class="p">;</span>
  <span class="n">qiLogInfo</span><span class="p">(</span><span class="s">&quot;myfoo.bar&quot;</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;my info log&quot;</span><span class="p">;</span>
  <span class="n">qiLogVerbose</span><span class="p">(</span><span class="s">&quot;myfoo.bar&quot;</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;my verbose log&quot;</span><span class="p">;</span>
  <span class="n">qiLogDebug</span><span class="p">(</span><span class="s">&quot;myfoo.bar&quot;</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;my debug log&quot;</span><span class="p">;</span>


  <span class="c1">// NAOqi starts</span>
  <span class="c1">// Get LogManager service</span>
  <span class="n">qi</span><span class="o">::</span><span class="n">LogManagerPtr</span> <span class="n">logger</span> <span class="o">=</span> <span class="n">app</span><span class="p">.</span><span class="n">session</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">service</span><span class="p">(</span><span class="s">&quot;LogManager&quot;</span><span class="p">);</span>
  <span class="c1">// Register LogProvider to LogManager</span>
  <span class="kt">int</span> <span class="n">id</span> <span class="o">=</span> <span class="n">logger</span><span class="o">-&gt;</span><span class="n">addProvider</span><span class="p">(</span><span class="n">provider</span><span class="p">);</span>

  <span class="c1">// link LogManager to LogProvider</span>
  <span class="n">provider</span><span class="o">-&gt;</span><span class="n">setLogger</span><span class="p">(</span><span class="n">logger</span><span class="p">);</span>
  <span class="c1">// Add LogProvider to LogManager</span>
  <span class="kt">int</span> <span class="n">id</span> <span class="o">=</span> <span class="n">logger</span><span class="o">-&gt;</span><span class="n">addProvider</span><span class="p">(</span><span class="n">ptr</span><span class="p">);</span>


  <span class="c1">// Remove explicity provider from LogManager.</span>
  <span class="c1">// It will flush remaining logs</span>
  <span class="n">logger</span><span class="o">-&gt;</span><span class="n">removeProvider</span><span class="p">(</span><span class="n">id</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p id="cxx-log-provider-conf">The provider settings are set by default to:</p>
<ul class="simple">
<li>verbosity: qi::LogLevel_Info</li>
<li>filters: &#8220;qitype.*&#8221; to qi::LogLevel_Silent, &#8220;qimessaging.*&#8221; to qi::LogLevel_Silent, &#8220;qi.*&#8221; to qi::LogLevel_Silent. Thoses filters are NEEDED to avoid infinite recursion. You cannot change those filters.</li>
</ul>
<p>However, you can add/reset filters or change the verbosity with 3 methods:</p>
<ul class="simple">
<li>addFilter(category, level) changes the verbosity for the specific category,</li>
<li>setLevel(level) changes the verbosity for all categories (setLevel(level) == addFilter(&#8220;*&#8221;, level))</li>
<li>setFilters(filters) will set categories&#8217; filters to filters. Filters is a list of pair containing filtering rules (ei: pair(&#8220;filter&#8221;, level))</li>
</ul>
</div>
<div class="section" id="id2">
<h2>Example<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp"><div class="highlight"><pre><span class="c1">// Create LogProvider</span>
<span class="n">qi</span><span class="o">::</span><span class="n">LogProviderPtr</span> <span class="n">provider</span> <span class="o">=</span> <span class="n">qi</span><span class="o">::</span><span class="n">makeLogProvider</span><span class="p">(</span><span class="n">logger</span><span class="p">);</span>

<span class="c1">// All logs with severity lower or equal to DEBUG will be sent</span>
<span class="n">provider</span><span class="o">-&gt;</span><span class="n">setLevel</span><span class="p">(</span><span class="n">qi</span><span class="o">::</span><span class="n">LogLevel_Debug</span><span class="p">)</span>

<span class="c1">// Send logs with &#39;foo.bar&#39; category and severity lower or equal than SILENT</span>
<span class="c1">// ei: &quot;foo.bar&quot; logs are never sent.</span>
<span class="n">provider</span><span class="o">-&gt;</span><span class="n">addFilter</span><span class="p">(</span><span class="s">&quot;foo.bar&quot;</span><span class="p">,</span> <span class="n">qi</span><span class="o">::</span><span class="n">LogLevel_Silent</span><span class="p">)</span>

<span class="c1">// Send logs with &#39;foo.baz.*&#39; category and severity lower or equal than ERROR</span>
<span class="c1">// globbing works fine</span>
<span class="n">provider</span><span class="o">-&gt;</span><span class="n">addFilter</span><span class="p">(</span><span class="s">&quot;foo.baz.*&quot;</span><span class="p">,</span> <span class="n">qi</span><span class="o">::</span><span class="n">LogLevel_Error</span><span class="p">)</span>

<span class="c1">// The following code has the same behavior than two previous examples</span>
<span class="c1">// except that it resets filters.</span>
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">qi</span><span class="o">::</span><span class="n">LogLevel</span><span class="o">&gt;</span> <span class="o">&gt;</span> <span class="n">filters</span><span class="p">;</span>
<span class="n">filters</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">make_pair</span><span class="p">(</span><span class="s">&quot;foo.bar&quot;</span><span class="p">,</span> <span class="n">qi</span><span class="o">::</span><span class="n">LogLevel_Silent</span><span class="p">));</span>
<span class="n">filters</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">make_pair</span><span class="p">(</span><span class="s">&quot;foo.baz.*&quot;</span><span class="p">,</span> <span class="n">qi</span><span class="o">::</span><span class="n">LogLevel_Error</span><span class="p">));</span>
<span class="n">provider</span><span class="o">-&gt;</span><span class="n">setFilters</span><span class="p">(</span><span class="n">filters</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>


          </div>
          <div class="footernav">
    <a title="qi SDK Documentation 2.2.0.55 documentation" href="../index.html" accesskey="U">up</a></div>
        </div>
      </div>
      
        
          <div class="yui-b" id="sidebar">
            
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>


  <h3>Table Of Contents</h3>
  <ul>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">API References</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html">User Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../design/index.html">Design Documents</a></li>
</ul>

    <h3><a href="../index.html">On this page</a></h3>
    <ul>
<li><a class="reference internal" href="#">How to receive and send logs</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li><a class="reference internal" href="#subscribe-to-logmanager-to-obtain-logs">Subscribe to LogManager to obtain logs</a></li>
<li><a class="reference internal" href="#add-a-publisher-to-send-logs">Add a publisher to send logs</a><ul>
<li><a class="reference internal" href="#send-logs-to-already-started-naoqi">Send logs to already started NAOqi</a></li>
</ul>
</li>
<li><a class="reference internal" href="#example">Example</a><ul>
<li><a class="reference internal" href="#send-logs-to-naoqi-before-naoqi-is-started">Send logs to NAOqi before NAOqi is started</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id1">Example</a></li>
<li><a class="reference internal" href="#id2">Example</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
          </div>
        
      
    </div>

    <div id="ft">
      <div class="nav">
    <a title="qi SDK Documentation 2.2.0.55 documentation" href="../index.html" accesskey="U">up</a></div>
    </div>
  </div>

      <div class="clearer"></div>
    </div>
  </body>
</html>