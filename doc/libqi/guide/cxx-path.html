
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Handling Paths Guide &mdash; qi SDK Documentation 2.2.0.55 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.2.0.55',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="qi SDK Documentation 2.2.0.55 documentation" href="../index.html" />
    <link rel="up" title="User Guides" href="index.html" />
    <link rel="next" title="How to write a qimessaging client in Python" href="py-client.html" />
    <link rel="prev" title="Internationalization Guide" href="cxx-linguist.html" />
 
<script>
$(window).ready(function () {
    var width_label = 0;
    $('dl.function-index dt > span').each(function () {
        $(this).css('width', 'auto');
        width_label = Math.max(width_label, $(this).width());
    }).width(width_label + 30);
    $('.sig-paren').width('auto');
})

</script>


<script type="text/javascript" src="/static/js/ga-status.js"></script>



  </head>
  <body>

    <div class="document">
  <div id="custom-doc" class="yui-t3">
    <div id="hd">
      <h1><a href="../index.html">qi SDK Documentation 2.2.0.55 documentation</a></h1>
      <div id="global-nav">
        <a title="Home page" href="../index.html">Home</a>
         |
        <a title="Site map" href="../contents.html">Site map</a>
         |
        <a title="Search" href="../search.html">Search</a>
         |
        <a title="Index" href="../genindex.html">Index</a>
      </div>
      <div class="nav">
    &laquo; <a href="cxx-linguist.html" title="Internationalization Guide">previous</a>
     |
    <a href="index.html" title="User Guides" accesskey="U">up</a>
   |
    <a href="py-client.html" title="How to write a qimessaging client in Python">next</a> &raquo;</div>
    </div>

    <div id="bd">
      <div id="yui-main">
        <div class="yui-b">
          <div class="yui-g" id="guide-cxx-path">
            
  <div class="section" id="handling-paths-guide">
<span id="guide-cxx-path"></span><h1>Handling Paths Guide<a class="headerlink" href="#handling-paths-guide" title="Permalink to this headline">¶</a></h1>
<p>Provide access to application&#8217;s path, this include configuration, data, executable and library paths.</p>
<dl class="docutils">
<dt>Provide access to various path including:</dt>
<dd><ul class="first last simple">
<li>executables, <a class="reference internal" href="../api/cpp/path.html#qi::path::findBin__ssCR.b" title="qi::path::findBin"><tt class="xref cpp cpp-guess docutils literal"><span class="pre">qi::path::findBin</span></tt></a></li>
<li>libraries, <a class="reference internal" href="../api/cpp/path.html#qi::path::findLib__ssCR" title="qi::path::findLib"><tt class="xref cpp cpp-guess docutils literal"><span class="pre">qi::path::findLib</span></tt></a></li>
<li>application data <a class="reference internal" href="../api/cpp/path.html#qi::path::findData__ssCR.ssCR" title="qi::path::findData"><tt class="xref cpp cpp-guess docutils literal"><span class="pre">qi::path::findData</span></tt></a> and <a class="reference internal" href="../api/cpp/path.html#qi::path::listData__ssCR.ssCR" title="qi::path::listData"><tt class="xref cpp cpp-guess docutils literal"><span class="pre">qi::path::listData</span></tt></a></li>
<li>application configuration <a class="reference internal" href="../api/cpp/path.html#qi::path::findConf__ssCR.ssCR" title="qi::path::findConf"><tt class="xref cpp cpp-guess docutils literal"><span class="pre">qi::path::findConf</span></tt></a></li>
<li>writable data and configuration paths <a class="reference internal" href="../api/cpp/path.html#qi::path::userWritableConfPath__ssCR.ssCR" title="qi::path::userWritableConfPath"><tt class="xref cpp cpp-guess docutils literal"><span class="pre">qi::path::userWritableConfPath</span></tt></a>, <a class="reference internal" href="../api/cpp/path.html#qi::path::userWritableDataPath__ssCR.ssCR" title="qi::path::userWritableDataPath"><tt class="xref cpp cpp-guess docutils literal"><span class="pre">qi::path::userWritableDataPath</span></tt></a></li>
</ul>
</dd>
<dt>Since this library is cross-platform we need to take care of different charsets and localizations (UTF-8, UTF-16).</dt>
<dd><ul class="first last simple">
<li>Apple OS X always use UTF-8 locale and path.
OS X provide a Posix API that do not care about locale.</li>
<li>Windows (including Cygwin and MinGW) have both 8 bits functions using
various charsets depending on the Windows localization setup, and 16
bits functions using UTF-16. To support internationalization we need
to always use UTF-16 functions. (_wfopen, _wopen, _wsystem, ...).</li>
<li>Linux distributions use UTF-8 locale and path by default.
Linux provide a Posix API that do not care about locale.</li>
</ul>
</dd>
</dl>
<p>To support internationalization we will always consider path to be encoded in UTF-8 under Windows.
We will convert them to UTF-16 to pass them to the native windows API.
On Posix platform we have nothing to do.</p>
<p>We recommand to use <tt class="xref cpp cpp-guess docutils literal"><span class="pre">boost::filesystem::path</span></tt> with and imbued UTF-8 locale.
you could use this code in your main to initialise <tt class="xref cpp cpp-guess docutils literal"><span class="pre">boost::filesystem</span></tt> locale once:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span class="c1">// create a locale with a unicode facet to convert between char(utf-8) and wchar(utf-16/utf-32)</span>
<span class="n">std</span><span class="o">::</span><span class="n">locale</span> <span class="n">loc</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">locale</span><span class="p">(),</span> <span class="o">&amp;</span><span class="n">qi</span><span class="o">::</span><span class="n">unicodeFacet</span><span class="p">());</span>
<span class="c1">// Make boost.filesystem always use the unicode facet</span>
<span class="n">boost</span><span class="o">::</span><span class="n">filesystem</span><span class="o">::</span><span class="n">path</span><span class="o">::</span><span class="n">imbue</span><span class="p">(</span><span class="n">loc</span><span class="p">);</span>

<span class="c1">// it&#39;s although possible to set the locale as global.</span>
<span class="c1">// This will enable UTF8 supportfor iostream.</span>
<span class="n">std</span><span class="o">::</span><span class="n">locale</span><span class="o">::</span><span class="n">global</span><span class="p">(</span><span class="n">loc</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="overview">
<h1>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h1>
<div class="section" id="the-sdk-layout">
<h2>The SDK Layout<a class="headerlink" href="#the-sdk-layout" title="Permalink to this headline">¶</a></h2>
<p>The main idea of the qibuild-based project is that you always end up
with the same layout.</p>
<p>For instance, right after having built you project, you end up with
a directory looking like this.</p>
<p>Here we assume you have a <tt class="xref cpp cpp-guess docutils literal"><span class="pre">foo</span></tt> executable which:
- depends on a <tt class="xref cpp cpp-guess docutils literal"><span class="pre">bar</span></tt> dynamic library
- need to read data from a file named <tt class="xref cpp cpp-guess docutils literal"><span class="pre">foo.data</span></tt> and XML files in a <tt class="xref cpp cpp-guess docutils literal"><span class="pre">models</span></tt> directory
- need to read configuration from a file named <tt class="xref cpp cpp-guess docutils literal"><span class="pre">foo.cfg</span></tt></p>
<div class="highlight-python"><pre>src
|__ foo
    |__ data
    |   |__ foo.data
    |   |__ models
    |       |__ nao.xml
    |       |__ romeo.xml
    |__ etc
        |__ foo.cfg

build
|__ sdk
    |__ lib
    |    |__ libbar.so
    |__ bin
         |__ foo</pre>
</div>
<p>When everything is installed, you have something like:</p>
<div class="highlight-python"><pre>prefix
|__ lib
|   |__ libbar.so
|__ bin
|   |__ foo
|__ share
|   |__ foo
|       |__ foo.data
|       |__ models
|           |__ nao.xml
|           |__ romeo.xml
|__ etc
    |__ foo
        |__ foo.cfg</pre>
</div>
</div>
<div class="section" id="the-problem">
<h2>The problem<a class="headerlink" href="#the-problem" title="Permalink to this headline">¶</a></h2>
<p>Here is a list of common requirements:</p>
<ul class="simple">
<li>Find the files <tt class="xref cpp cpp-guess docutils literal"><span class="pre">foo/foo.cfg</span></tt>, <tt class="xref cpp cpp-guess docutils literal"><span class="pre">foo/foo.data</span></tt> and <tt class="xref cpp cpp-guess docutils literal"><span class="pre">foo/models/*.xml</span></tt>
in a clean, simple way,  while making sure the solution works whereas the
project is run from the build directory or installed</li>
<li>The executable <tt class="xref cpp cpp-guess docutils literal"><span class="pre">foo</span></tt> may need to write or update its configuration
files or data but we need to make sure nothing will be written inside
the installed directory</li>
<li>Since there will be several <tt class="xref cpp cpp-guess docutils literal"><span class="pre">foo.cfg</span></tt> files, we need to be able to process
then in a correct order.</li>
</ul>
</div>
<div class="section" id="the-solution">
<h2>The solution<a class="headerlink" href="#the-solution" title="Permalink to this headline">¶</a></h2>
<p>Here is how it works:</p>
<ul class="simple">
<li>First we introduce the concept of <strong>prefix</strong>. When something is built,
the prefix is <tt class="xref cpp cpp-guess docutils literal"><span class="pre">/path/to/build/sdk</span></tt>, when something is installed, the prefix
is the <tt class="xref cpp cpp-guess docutils literal"><span class="pre">DESTDIR</span></tt> plus the installation prefix.</li>
<li>Then we make sure the layout in the build prefix and in the install prefix is
always the same.
For instance, we will have CMake rules to be sure that whenever the foo project
is configured, a copy of <tt class="xref cpp cpp-guess docutils literal"><span class="pre">foo.cfg</span></tt> is placed in <tt class="xref cpp cpp-guess docutils literal"><span class="pre">build/sdk/foo/foo.cfg</span></tt>
(same thing for data)</li>
<li>At last, we provide an easy way to get the prefix anywhere from the c++ code.
The idea is that it is easy to get the prefix from <tt class="xref cpp cpp-guess docutils literal"><span class="pre">argv0</span></tt>.
For instance, if <tt class="xref cpp cpp-guess docutils literal"><span class="pre">argv0</span></tt> is <tt class="xref cpp cpp-guess docutils literal"><span class="pre">/path/to/build/sdk/bin/foo</span></tt>, we can assume
the prefix is <tt class="xref cpp cpp-guess docutils literal"><span class="pre">/path/to/build/sdk</span></tt>.</li>
</ul>
</div>
</div>
<div class="section" id="using-namespace-path">
<h1>Using Namespace path<a class="headerlink" href="#using-namespace-path" title="Permalink to this headline">¶</a></h1>
<div class="section" id="notes-requirement">
<h2>Notes &amp; Requirement<a class="headerlink" href="#notes-requirement" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference external" href="../api/cpp/path.html#qi::path"><tt class="xref cpp cpp-guess docutils literal"><span class="pre">qi::path</span></tt></a> always make sure that:</p>
<ul class="simple">
<li>returned path are absolute, native paths. (with &#8220;/&#8221; on UNIX and &#8220;\&#8221; on windows)</li>
<li>path always MUST be in UTF-8 encoding (every methods who need UTF-8
charset is specified in <a class="reference external" href="../api/cpp/path.html#qi::path"><tt class="xref cpp cpp-guess docutils literal"><span class="pre">qi::path</span></tt></a>),</li>
<li>return path will be in UTF-8 charset.</li>
</ul>
<p>For this to work, we must make sure that</p>
<ul class="simple">
<li><tt class="xref cpp cpp-guess docutils literal"><span class="pre">qi::init</span></tt> has been called.</li>
</ul>
<p>Have a look on the <a class="reference external" href="../api/cpp/path.html#qi::path"><tt class="xref cpp cpp-guess docutils literal"><span class="pre">qi::path</span></tt></a> for more details.</p>
</div>
<div class="section" id="reading-and-writing-configuration-files">
<h2>Reading and writing configuration files<a class="headerlink" href="#reading-and-writing-configuration-files" title="Permalink to this headline">¶</a></h2>
<p>Writing a configuration file is very different from reading one.</p>
<p>Let&#8217;s assume the <tt class="xref cpp cpp-guess docutils literal"><span class="pre">foo</span></tt> executable want to make sure that
<tt class="xref cpp cpp-guess docutils literal"><span class="pre">SPAM=42</span></tt> in <tt class="xref cpp cpp-guess docutils literal"><span class="pre">foo.cfg</span></tt>.</p>
<p>Here is how it works:</p>
<ul class="simple">
<li>First, ask for a <strong>list</strong> of possible paths for <tt class="xref cpp cpp-guess docutils literal"><span class="pre">foo.cfg</span></tt></li>
<li>Iterate through this list and stop when the first possible <tt class="xref cpp cpp-guess docutils literal"><span class="pre">foo.cfg</span></tt> is found</li>
<li>Read and update the <tt class="xref cpp cpp-guess docutils literal"><span class="pre">foo.cfg</span></tt> file</li>
<li>Write the <tt class="xref cpp cpp-guess docutils literal"><span class="pre">foo.cfg</span></tt> file.</li>
</ul>
<p>You can see that we ask for a <strong>list</strong> of paths when reading, but that we
always write to <strong>one</strong> file.</p>
<p>Let&#8217;s go through these steps again, assuming <tt class="xref cpp cpp-guess docutils literal"><span class="pre">foo</span></tt> is installed in
<tt class="xref cpp cpp-guess docutils literal"><span class="pre">/usr/bin/foo</span></tt>, and <tt class="xref cpp cpp-guess docutils literal"><span class="pre">foo.cfg</span></tt> in <tt class="xref cpp cpp-guess docutils literal"><span class="pre">/usr/share/foo/foo.cfg</span></tt>, and that there
is nothing else on the machine where <tt class="xref cpp cpp-guess docutils literal"><span class="pre">foo</span></tt> is running.</p>
<ul class="simple">
<li>First step: ask for a list of possible paths for <tt class="xref cpp cpp-guess docutils literal"><span class="pre">foo.cfg</span></tt>
using <tt class="xref cpp cpp-guess docutils literal"><span class="pre">qi::path::getConfigurationPaths</span></tt>
This gives a list looking like :
<tt class="xref cpp cpp-guess docutils literal"><span class="pre">[~/.config/foo/foo.cfg,</span> <span class="pre">/usr/share/foo/foo.cfg]</span></tt></li>
<li>Since <tt class="xref cpp cpp-guess docutils literal"><span class="pre">.config/foo/foo.cfg</span></tt> does not exist, we read <tt class="xref cpp cpp-guess docutils literal"><span class="pre">/usr/share/foo/foo.cfg</span></tt></li>
<li>Then we ask for a location to write: using qi::path::getConfigurationPaths
In this case it&#8217;s <tt class="xref cpp cpp-guess docutils literal"><span class="pre">/.config/foo/foo.cfg</span></tt>
So we write <tt class="xref cpp cpp-guess docutils literal"><span class="pre">SPAM=42</span></tt> to <tt class="xref cpp cpp-guess docutils literal"><span class="pre">/.config/foo/foo.cfg</span></tt></li>
</ul>
<p>Then each time a piece of code will ask for the <tt class="xref cpp cpp-guess docutils literal"><span class="pre">foo.cfg</span></tt> path, it will
get a list starting with <tt class="xref cpp cpp-guess docutils literal"><span class="pre">/.config/foo/foo.cfg</span></tt>, so we are sure the setting
<tt class="xref cpp cpp-guess docutils literal"><span class="pre">SPAM=42</span></tt> will be used.</p>
</div>
</div>
<div class="section" id="example">
<h1>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h1>
<div class="highlight-cpp"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * Copyright (c) 2012 Aldebaran Robotics. All rights reserved.</span>
<span class="cm"> * Use of this source code is governed by a BSD-style license that can be</span>
<span class="cm"> * found in the COPYING file.</span>
<span class="cm"> */</span>
<span class="cp">#include &lt;iostream&gt;</span>
<span class="cp">#include &lt;fstream&gt;</span>
<span class="cp">#include &lt;vector&gt;</span>

<span class="cp">#include &lt;qi/os.hpp&gt;</span>
<span class="cp">#include &lt;qi/path.hpp&gt;</span>
<span class="cp">#include &lt;qi/application.hpp&gt;</span>
<span class="cp">#include &lt;qi/qi.hpp&gt;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="c1">// Get the prefix name from argv0</span>
  <span class="c1">// Performs various initializations.</span>
  <span class="n">qi</span><span class="o">::</span><span class="n">Application</span> <span class="n">app</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span> <span class="n">argv</span><span class="p">);</span>

  <span class="c1">// Get sdk prefix</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;SDK prefix is: &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">qi</span><span class="o">::</span><span class="n">path</span><span class="o">::</span><span class="n">sdkPrefix</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>

  <span class="c1">// First argument is the name of the application, used</span>
  <span class="c1">// to build various paths later.</span>
  <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">fooCfgPath</span> <span class="o">=</span> <span class="n">qi</span><span class="o">::</span><span class="n">path</span><span class="o">::</span><span class="n">findConf</span><span class="p">(</span><span class="s">&quot;foo&quot;</span><span class="p">,</span> <span class="s">&quot;foo.cfg&quot;</span><span class="p">);</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">fooCfgPath</span> <span class="o">==</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cerr</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Could not find foo.cfg&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cerr</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Looked in: &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="o">&gt;</span> <span class="n">configPaths</span> <span class="o">=</span> <span class="n">qi</span><span class="o">::</span><span class="n">path</span><span class="o">::</span><span class="n">confPaths</span><span class="p">(</span><span class="s">&quot;foo&quot;</span><span class="p">);</span>
    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;::</span><span class="n">const_iterator</span> <span class="n">it</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">it</span> <span class="o">=</span> <span class="n">configPaths</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span> <span class="n">it</span> <span class="o">!=</span> <span class="n">configPaths</span><span class="p">.</span><span class="n">end</span><span class="p">();</span> <span class="o">++</span><span class="n">it</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="n">std</span><span class="o">::</span><span class="n">cerr</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;</span><span class="se">\t</span><span class="s">&quot;</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">it</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">else</span>
  <span class="p">{</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Found foo.cfg: &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">fooCfgPath</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Contents: &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
    <span class="kt">char</span> <span class="n">buf</span><span class="p">[</span><span class="mi">250</span><span class="p">];</span>
    <span class="n">std</span><span class="o">::</span><span class="n">ifstream</span> <span class="n">ifs</span><span class="p">;</span>

    <span class="c1">// Set stream to the right charset</span>
    <span class="n">ifs</span><span class="p">.</span><span class="n">open</span><span class="p">(</span><span class="n">fooCfgPath</span><span class="p">.</span><span class="n">c_str</span><span class="p">(),</span> <span class="n">std</span><span class="o">::</span><span class="n">fstream</span><span class="o">::</span><span class="n">in</span><span class="p">);</span>
    <span class="k">while</span> <span class="p">(</span><span class="o">!</span> <span class="n">ifs</span><span class="p">.</span><span class="n">eof</span><span class="p">())</span>
    <span class="p">{</span>
      <span class="n">ifs</span><span class="p">.</span><span class="n">getline</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="mi">250</span><span class="p">);</span>
      <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">buf</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">ifs</span><span class="p">.</span><span class="n">close</span><span class="p">();</span>
  <span class="p">}</span>


  <span class="c1">// ... Write back the configuration to userCfgPath</span>
  <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">userCfgPath</span> <span class="o">=</span> <span class="n">qi</span><span class="o">::</span><span class="n">path</span><span class="o">::</span><span class="n">userWritableConfPath</span><span class="p">(</span><span class="s">&quot;foo&quot;</span><span class="p">,</span> <span class="s">&quot;foo.cfg&quot;</span><span class="p">);</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Writing config file to: &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">userCfgPath</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
  <span class="n">std</span><span class="o">::</span><span class="n">ofstream</span> <span class="n">ofs</span><span class="p">(</span><span class="n">userCfgPath</span><span class="p">.</span><span class="n">c_str</span><span class="p">(),</span> <span class="n">std</span><span class="o">::</span><span class="n">fstream</span><span class="o">::</span><span class="n">out</span> <span class="o">|</span> <span class="n">std</span><span class="o">::</span><span class="n">fstream</span><span class="o">::</span><span class="n">trunc</span><span class="p">);</span>
  <span class="n">ofs</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Hi, this is foo.cfg&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
  <span class="n">ofs</span><span class="p">.</span><span class="n">close</span><span class="p">();</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>


          </div>
          <div class="footernav">
    &laquo; <a href="cxx-linguist.html" title="Internationalization Guide">Internationalization Guide</a>
     |
    <a href="index.html" title="User Guides" accesskey="U">User Guides</a>
   |
    <a href="py-client.html" title="How to write a qimessaging client in Python">How to write a qimessaging client in Python</a> &raquo;</div>
        </div>
      </div>
      
        
          <div class="yui-b" id="sidebar">
            
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>


  <h3>Table Of Contents</h3>
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">API References</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">User Guides</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="cxx-client.html">How to write a qimessaging client in C++</a></li>
<li class="toctree-l2"><a class="reference internal" href="cxx-service.html">How to write a qimessaging service in C++</a></li>
<li class="toctree-l2"><a class="reference internal" href="cxx-register-types.html">Registering types in the type system</a></li>
<li class="toctree-l2"><a class="reference internal" href="cxx-async.html">Asynchronous operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="cxx-log.html">Using qi::log</a></li>
<li class="toctree-l2"><a class="reference internal" href="cxx-linguist.html">Internationalization Guide</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Handling Paths Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#using-namespace-path">Using Namespace path</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#example">Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="py-client.html">How to write a qimessaging client in Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="py-service.html">How to write a qimessaging service in Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="py-tonaoqi2.html">How to switch from NAOqi1 to NAOqi2</a></li>
<li class="toctree-l2"><a class="reference internal" href="py-log-client.html">How to receive and send logs in Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="qi-package-services.html">Packaging services in an application</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../design/index.html">Design Documents</a></li>
</ul>

    <h3><a href="../index.html">On this page</a></h3>
    <ul>
<li><a class="reference internal" href="#">Handling Paths Guide</a></li>
<li><a class="reference internal" href="#overview">Overview</a><ul>
<li><a class="reference internal" href="#the-sdk-layout">The SDK Layout</a></li>
<li><a class="reference internal" href="#the-problem">The problem</a></li>
<li><a class="reference internal" href="#the-solution">The solution</a></li>
</ul>
</li>
<li><a class="reference internal" href="#using-namespace-path">Using Namespace path</a><ul>
<li><a class="reference internal" href="#notes-requirement">Notes &amp; Requirement</a></li>
<li><a class="reference internal" href="#reading-and-writing-configuration-files">Reading and writing configuration files</a></li>
</ul>
</li>
<li><a class="reference internal" href="#example">Example</a></li>
</ul>

        </div>
      </div>
          </div>
        
      
    </div>

    <div id="ft">
      <div class="nav">
    &laquo; <a href="cxx-linguist.html" title="Internationalization Guide">previous</a>
     |
    <a href="index.html" title="User Guides" accesskey="U">up</a>
   |
    <a href="py-client.html" title="How to write a qimessaging client in Python">next</a> &raquo;</div>
    </div>
  </div>

      <div class="clearer"></div>
    </div>
  </body>
</html>